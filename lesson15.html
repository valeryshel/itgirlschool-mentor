<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JavaScript</title>
</head>

<body>
  <h1>Функции, область видимости, hoisting</h1>

  <script>
    //! область видимости
    //* глобальная область видимости
    var globalVariable = "global variable";
    // console.log(window.globalVariable);
    window.globalVariable;
    let globalVariable2 = 'global variable'
    // console.log(window.globalVariable2);
    // console.log(window);
    //* блочная область видимости - разница между VAR и LET
    // console.log(aaa); // ошибка Uncaught ReferenceError: aaa is not defined
    {
      let aaa = 123;
      // console.log(aaa); // 123
    }
    // console.log(aaa); // ошибка ReferenceError: aaa is not defined

    // console.log(bbb); // undefined
    {
      var bbb = 234;
      // console.log(bbb); //234
    }
    // console.log(bbb); // 234
    // window.bbb;

    // conditions
    if (bbb == 234) {
      var ccc = 111;
      // console.log(ccc); //111
    }
    // console.log(ccc); //111

    if (bbb == 234) {
      let dddd = 111;
      // console.log(dddd); //111
    }
    // console.log(dddd); //dddd is not defined

    //ЦИКЛЫ
    var array = [1, 2, 3];
    for (var index = 0; index < array.length; index++) {
      var varInsideCycle = "insideCycle";
      // console.log(varInsideCycle);
    }
    // console.log(varInsideCycle);

    let array2 = [0, 1, 2];
    for (let index = 0; index < array.length; index++) {
      let letInsideCycle = "insideCycle";
      // console.log(letInsideCycle);
    }
    // console.log(letInsideCycle);

    //* функциональная область видимости
    // console.warn("FUNCTION + VAR");
    // создаем функцию с var
    let varFunction = function () {
      var qqq = 444;
      // console.log(qqq);
    };
    varFunction(); // вызываем функцию
    // console.log(qqq); // выдаст ошибку, т.к. var внутри функции


    // *****************************************************************************************************************************************************
    // HOISTING
    //* !hoisting - поднятие переменных
    console.warn("hoisting");
    // console.log(d); // var поднимается
    var d; // var объявлена, но не назначена
    // console.log(e); // let не поднимается Uncaught ReferenceError: Cannot access 'e' before initialization
    // let e;
    let e = 20; // повторное объявление let вызовет ошибку, нужно переназначить переменную Uncaught ReferenceError: Cannot access 'e' before initialization
    //e = 20;
    // console.log(e);
    // console.log(F); //const не поднимается
    // const F = 30;
    // const F; // const без назначения выдает ошибку SyntaxError: Missing initializer in const declaration
    // var d = 10; // var можно объявить и назначить повторно



    // *********************************************************
    //!Поднятие функций
    //function declaration
    add(3, 4); // 7
    // console.log(add(5, 7));

    function add(a, b) {
      return a + b;
    }

    // Функции function expression при таких условиях работать не будут:
    //multiply(3, 4); // TypeError multiply is not a function
    // console.log(multiply(2, 3));

    var multiply = function (a, b) {
      return a * b;
    };

    // console.log(multiply(2, 3));
    // Значение объявленной через var переменной переменной или function expression до того как интерпретатор дойдёт до её кода, равно undefined.

    // Рассмотрим пример:
    var myname = "Anna";
    // fn();
    function fn() {
      // console.log(myname);
      var myname = "Sveta";
      // console.log(myname);
    }
    fn();
    // console.log(myname);
    //? что выведет консоль и в каком порядке?
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.
    //.

    // undefined
    // Sveta
    // Anna

    const YEAR = 366;
    if (YEAR % 2 == 1) {
      // console.log("не високосный год");
    } else {
      // console.log("високосный год");
    }


  </script>
  <script src="js/iife.js"></script>
</body>

</html>