<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lesson 26- cookie, async, API</title>
</head>


<body>
  <h1>cookie, async, API</h1>

  <script>
    //Cookie
    // ЗАПИСЬ
    document.cookie = 'counter=1'
    // console.log(document.cookie)  // 'counter=1'


    document.cookie = 'sidebar=false'
    // console.log(document.cookie)  // 'counter=1; sidebar=false;'
    //ПЕРЕЗАПИСЬ
    document.cookie = 'sidebar=true'
    // console.log(document.cookie) // -> 'counter=1; sidebar=true;'

    // ПАРАМЕТРЫ COOKIE
    // Запись куки с разрешением передавать её только по HTTPS и только для текущего домена, со временем жизни в 10 часов будет выглядеть так:
    document.cookie = 'sidebar=true;secure;samesite=strict;max-age=36000'

    // ЧТЕНИЕ COOKIES
    console.log(document.cookie);

    //УДАЛЕНИЕ COOKIE
    // document.cookie = `sidebar=;expires=${new Date(0)}`
    //передав число 0 в конструктор Date мы получаем 1 января 1970 г. Поскольку эта дата из прошлого, то кука будет удалена моментально.



    //стандартные функции
    function setCookie(cname, cvalue, exdays) {
      var d = new Date();
      d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
      var expires = "expires=" + d.toUTCString();
      document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
    }
    // Получение конкретной куки
    function getCookie(cname) {
      var name = cname + "=";
      var ca = document.cookie.split(';');
      for (var i = 0; i < ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0) == ' ') {
          c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
          return c.substring(name.length, c.length);
        }
      }
      return "";
    }

    // setCookie('test', 'test value', 365);

    // console.log(getCookie('test'));






  </script>
</body>

</html>